<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Physics Times - Thầy Lâm</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts: Noto Serif (Hỗ trợ tiếng Việt tuyệt đối) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400&family=Noto+Serif+Display:ital,wght@0,400;0,700;0,900;1,400&family=Noto+Serif:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            loader: { load: ['input/tex', 'output/chtml'] },
            startup: {
                pageReady: () => {
                    return MathJax.startup.defaultPageReady();
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <!-- Custom Styles -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'masthead': ['"Noto Serif Display"', 'serif'],
                        'headline': ['"Noto Serif Display"', 'serif'],
                        'body': ['"Noto Serif"', 'serif'],
                        'sans': ['"Noto Sans"', 'sans-serif'],
                    },
                    colors: {
                        'paper': '#f8f5e6', /* Màu ngà vàng (Old Newspaper) */
                        'ink': '#121212',
                        'faint-line': '#dcd8c8', /* Đường kẻ tối hơn một chút để hợp nền vàng */
                        'nyt-blue': '#336699', 
                        'nyt-red': '#880000',
                    },
                    boxShadow: {
                        'paper': '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #f8f5e6; /* Màu nền ngà vàng */
            color: #121212;
            font-family: 'Noto Serif', serif;
            line-height: 1.6;
        }

        /* Masthead Styling */
        .masthead-title {
            font-family: 'Noto Serif Display', serif;
            font-weight: 900;
            letter-spacing: -0.02em;
        }

        .double-border-bottom {
            border-bottom: 1px solid #121212;
            box-shadow: 0 4px 0 -3px #121212; /* Creates a double line effect */
            margin-bottom: 2px;
        }
        
        .border-top-thin {
            border-top: 1px solid #e2e2e2;
        }

        /* Navigation Tabs */
        .nav-link {
            font-family: 'Noto Sans', sans-serif;
            text-transform: uppercase;
            font-size: 0.75rem;
            font-weight: 700;
            color: #333;
            padding: 0.5rem 1rem;
            transition: color 0.2s;
            border-bottom: 3px solid transparent;
        }
        
        .nav-link:hover {
            background-color: #e9e5d6; /* Màu hover tối hơn nền một chút */
        }

        .active-tab {
            border-bottom: 3px solid #121212;
        }

        .active-mobile-tab {
            font-weight: 900;
            text-decoration: underline;
            background-color: #e9e5d6;
        }

        /* Interactive Graphic Box */
        .graphic-container {
            background-color: #fff; /* Giữ màu trắng cho đồ họa để nổi bật trên nền vàng */
            border: 1px solid #ccc;
            padding: 1rem;
        }
        .graphic-header {
            font-family: 'Noto Sans', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.7rem;
            color: #666;
            border-bottom: 1px solid #e2e2e2;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
        }
        .caption {
            font-family: 'Noto Sans', sans-serif;
            font-size: 0.8rem;
            color: #666;
            margin-top: 0.5rem;
            line-height: 1.4;
        }

        /* Buttons NYT Style */
        .btn-nyt {
            font-family: 'Noto Sans', sans-serif;
            background-color: #336699;
            color: white;
            font-weight: 600;
            font-size: 0.8rem;
            padding: 0.5rem 1rem;
            border-radius: 3px;
            transition: background 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .btn-nyt:hover {
            background-color: #264d73;
        }
        
        .btn-outline {
            font-family: 'Noto Sans', sans-serif;
            background-color: transparent;
            color: #333;
            border: 1px solid #999;
            font-weight: 600;
            font-size: 0.8rem;
            padding: 0.5rem 1rem;
            border-radius: 3px;
            text-transform: uppercase;
        }
        .btn-outline:hover {
            border-color: #333;
            background-color: #f5f5f5;
        }

        /* Dropcap */
        .dropcap {
            float: left;
            font-family: 'Noto Serif Display', serif;
            font-weight: 900;
            font-size: 4rem;
            line-height: 0.8;
            padding-top: 4px;
            padding-right: 8px;
            padding-left: 3px;
        }

        /* Animation overrides */
        .fade-enter { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- HEADER / MASTHEAD -->
    <header class="bg-paper px-4 pt-4 pb-0">
        <div class="container mx-auto max-w-5xl">
            <!-- Top Utility Bar -->
            <div class="flex justify-between items-center text-xs font-sans text-gray-500 mb-2 border-b border-gray-300 pb-1">
                <div>
                    <span class="font-bold text-black uppercase">Thứ Hai, Ngày 19 Tháng 1, 2026</span>
                </div>
                <div class="hidden md:block uppercase tracking-widest text-[10px]">
                    Kiến thức hôm nay - Tương lai ngày mai
                </div>
                <div>
                    <span class="font-bold">Vol. 8 No. 1</span>
                </div>
            </div>

            <!-- Masthead Title -->
            <div class="text-center py-2">
                <h1 class="masthead-title text-5xl md:text-7xl lg:text-8xl text-ink leading-tight cursor-pointer" onclick="switchTab('intro')">
                    The Physics Times
                </h1>
                <div class="mt-2 text-center font-sans text-sm font-bold uppercase tracking-widest text-black italic">
                    Chuyên trang Vật Lý cùng Thầy Lâm
                </div>
            </div>

            <!-- Navigation Bar -->
            <div class="double-border-bottom mt-4">
                <!-- Mobile Hamburger -->
                <div class="md:hidden flex justify-center py-2 border-t border-black">
                    <button id="hamburger-button" class="text-sm font-sans font-bold uppercase flex items-center gap-2">
                        <i class="fas fa-bars"></i> Danh mục bài viết
                    </button>
                </div>

                <!-- Desktop Nav -->
                <div class="hidden md:flex justify-center border-t border-black py-1 gap-6">
                    <button onclick="switchTab('intro')" id="tab-btn-desktop-intro" class="nav-link">Trang Nhất</button>
                    <button onclick="switchTab('topic1')" id="tab-btn-desktop-topic1" class="nav-link">Nhiễm Điện</button>
                    <button onclick="switchTab('topic2')" id="tab-btn-desktop-topic2" class="nav-link">Dòng Điện</button>
                    <button onclick="switchTab('topic3')" id="tab-btn-desktop-topic3" class="nav-link">Đo Lường</button>
                    <button onclick="switchTab('quiz')" id="tab-btn-desktop-quiz" class="nav-link text-nyt-red hover:text-red-800">Kiểm Tra</button>
                </div>
            </div>
        </div>
    </header>

    <!-- MOBILE MENU (Slide-in) -->
    <div id="mobile-menu" class="fixed inset-y-0 left-0 w-72 bg-white shadow-2xl transform -translate-x-full transition-transform duration-300 z-50 md:hidden border-r border-gray-300">
        <div class="p-4 border-b border-black flex justify-between items-center bg-gray-50">
            <span class="font-headline font-bold text-lg">Mục Lục</span>
            <button id="close-menu-button" class="text-gray-500 hover:text-black">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        <nav class="p-4 space-y-4 font-sans text-sm">
            <button onclick="switchTab('intro')" id="tab-btn-mobile-intro" class="block w-full text-left py-2 border-b border-gray-100">Trang Nhất</button>
            <button onclick="switchTab('topic1')" id="tab-btn-mobile-topic1" class="block w-full text-left py-2 border-b border-gray-100">Hiện Tượng Nhiễm Điện</button>
            <button onclick="switchTab('topic2')" id="tab-btn-mobile-topic2" class="block w-full text-left py-2 border-b border-gray-100">Dòng Điện & Nguồn</button>
            <button onclick="switchTab('topic3')" id="tab-btn-mobile-topic3" class="block w-full text-left py-2 border-b border-gray-100">Công Cụ Đo Lường</button>
            <button onclick="switchTab('quiz')" id="tab-btn-mobile-quiz" class="block w-full text-left py-2 font-bold text-nyt-red">Bài Kiểm Tra</button>
        </nav>
    </div>
    <div id="mobile-overlay" class="fixed inset-0 bg-black/50 z-40 hidden md:hidden" onclick="closeMobileMenu()"></div>

    <!-- MAIN CONTENT -->
    <main class="flex-grow container mx-auto max-w-5xl px-4 py-8">
        
        <!-- TAB: GIỚI THIỆU (Front Page Style) -->
        <div id="content-intro" class="tab-content hidden fade-enter">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                <!-- Main Story (Left - 8 cols) -->
                <div class="lg:col-span-8 lg:border-r lg:border-gray-300 lg:pr-8">
                    <div class="mb-2 font-sans text-xs font-bold uppercase text-gray-500">Tiêu điểm</div>
                    <h2 class="font-headline text-4xl md:text-5xl font-bold italic mb-4 leading-tight">
                        Khám Phá Bí Ẩn Của "Dòng Sông" Năng Lượng Trong Dây Dẫn
                    </h2>
                    <div class="font-sans text-xs text-gray-600 mb-6 flex items-center gap-2">
                        <span class="font-bold text-black uppercase">Bởi Thầy Lâm</span>
                        <span class="w-1 h-1 bg-gray-400 rounded-full"></span>
                        <span>Ngày 19 Tháng 1, 2026</span>
                    </div>

                    <!-- UPDATED IMAGE SECTION -->
                    <div class="float-right ml-6 mb-4 w-64 graphic-container">
                        <div class="mb-2">
                             <img src="https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?auto=format&fit=crop&w=500&q=80" alt="Bóng đèn phát sáng" class="w-full h-auto border border-gray-300 grayscale hover:grayscale-0 transition duration-500">
                        </div>
                        <div class="caption text-xs">
                            <span class="font-bold uppercase text-xs">Hình 1.</span> Điện học là chìa khóa mở ra công nghệ hiện đại.
                        </div>
                    </div>

                    <div class="article-body text-lg text-gray-800 font-sans">
                        <p class="mb-4">
                            <span class="dropcap">C</span>hào các trò, hôm nay chúng ta bước vào một chuyên đề đặc biệt. Hãy tưởng tượng về những dòng sông vô hình đang chảy âm thầm ngay trong các bức tường nhà bạn.
                        </p>
                        <p class="mb-4">
                            Giống như nước chảy từ đỉnh núi xuống thung lũng, điện cũng có những quy luật diệu kỳ riêng. Đừng lo lắng nếu các khái niệm ban đầu có vẻ trừu tượng. Chúng ta sẽ tiếp cận chúng như những câu chuyện ngụ ngôn của tự nhiên: từ sự "nổi giận" của các vật thể khi bị cọ xát, đến trật tự kỷ luật của dòng electron.
                        </p>
                        <p class="mb-6">
                            Trong số báo này, chúng ta sẽ đi sâu vào ba trụ cột chính của điện học lớp 8. Hãy lật sang các trang tiếp theo để bắt đầu hành trình.
                        </p>
                        
                        <div class="border-t border-b border-black py-3 mt-8 text-center">
                            <button onclick="switchTab('topic1')" class="font-sans font-bold text-sm uppercase tracking-widest hover:bg-gray-100 px-4 py-2 transition">
                                Đọc tiếp: Sự Nhiễm Điện <i class="fas fa-arrow-right ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sidebar (Right - 4 cols) -->
                <div class="lg:col-span-4">
                    <div class="border-t-4 border-black mb-4"></div>
                    <h3 class="font-sans font-bold text-sm uppercase mb-4">Mục Lục Số Này</h3>
                    
                    <div class="space-y-6">
                        <div class="cursor-pointer group" onclick="switchTab('topic1')">
                            <h4 class="font-headline text-xl font-bold group-hover:text-nyt-blue mb-1">Tĩnh Điện</h4>
                            <p class="text-sm text-gray-600">Tại sao tóc lại dựng đứng vào mùa đông? Câu trả lời nằm ở sự cọ xát.</p>
                        </div>
                        <div class="w-full h-px bg-gray-200"></div>
                        
                        <div class="cursor-pointer group" onclick="switchTab('topic2')">
                            <h4 class="font-headline text-xl font-bold group-hover:text-nyt-blue mb-1">Dòng Chảy</h4>
                            <p class="text-sm text-gray-600">Bản chất dòng điện và sự di chuyển ngược đời của các Electron.</p>
                        </div>
                        <div class="w-full h-px bg-gray-200"></div>

                        <div class="cursor-pointer group" onclick="switchTab('topic3')">
                            <h4 class="font-headline text-xl font-bold group-hover:text-nyt-blue mb-1">Đo Lường</h4>
                            <p class="text-sm text-gray-600">Ampe kế và Volt kế: Phân biệt hai công cụ quan trọng nhất.</p>
                        </div>
                    </div>

                    <div class="mt-8 bg-gray-100 p-4 border border-gray-300">
                        <h4 class="font-sans font-bold text-xs uppercase mb-2">Quote of the Day</h4>
                        <p class="font-sans italic text-sm text-gray-700">"Học như trồng cây, cần kiên nhẫn mỗi ngày."</p>
                        <div class="text-right font-sans text-xs font-bold mt-2">— Thầy Lâm</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 1: NHIỄM ĐIỆN -->
        <div id="content-topic1" class="tab-content hidden fade-enter">
            <div class="border-b border-black pb-2 mb-6">
                <span class="font-sans font-bold text-xs uppercase tracking-widest border border-black px-2 py-1">Trang 2</span>
                <span class="ml-2 font-headline font-bold text-xl italic">Thí Nghiệm Vật Lý</span>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Article Text -->
                <div>
                    <h2 class="font-headline text-3xl font-bold mb-4">Hiện Tượng Nhiễm Điện Do Cọ Xát</h2>
                    <div class="font-sans text-gray-800 leading-relaxed space-y-4 text-lg">
                        <p>
                            <span class="font-bold text-black uppercase font-sans text-xs mr-1">Lý thuyết.</span>
                            Các em hãy tưởng tượng mỗi vật đều có những "công dân" tí hon ngủ yên, đó là các điện tích dương và âm trung hòa lẫn nhau. Khi ta thực hiện hành động cọ xát, giống như ta làm xáo trộn trật tự này.
                        </p>
                        <p>
                            Một số electron (mang điện âm) sẽ bị bứt ra khỏi vật này và di chuyển sang vật kia. Kết quả là sự mất cân bằng điện tích, khiến vật thể bị "nhiễm điện".
                        </p>
                        <ul class="list-disc ml-5 space-y-2 text-sm border-l-2 border-gray-300 pl-4 italic">
                            <li>Vật nhiễm điện có khả năng hút các vật nhẹ khác.</li>
                            <li>Hai vật nhiễm điện cùng dấu thì đẩy nhau, khác dấu thì hút nhau.</li>
                        </ul>
                    </div>
                </div>

                <!-- Interactive Graphic -->
                <div>
                    <div class="graphic-container shadow-paper">
                        <div class="graphic-header">
                            <span>Interactive Graphic</span>
                            <span>Fig 1.1</span>
                        </div>
                        
                        <div class="relative bg-white flex flex-col items-center justify-center py-6 border-b border-gray-100">
                            <!-- SVG -->
                            <svg width="300" height="200" viewBox="0 0 300 200">
                                <!-- Silk Cloth -->
                                <g id="silk-cloth" transform="translate(50, 80)">
                                    <path d="M0,10 Q50,-10 100,10 L100,70 Q50,90 0,70 Z" fill="#f8f8f8" stroke="#333" stroke-width="1.5" />
                                    <text x="50" y="50" text-anchor="middle" font-family="serif" font-size="12" fill="#333">Vải Lụa</text>
                                    <g id="silk-charges" opacity="0" class="transition-opacity duration-500">
                                        <text x="20" y="30" font-family="monospace" font-weight="bold" fill="#333">-</text>
                                        <text x="50" y="30" font-family="monospace" font-weight="bold" fill="#333">-</text>
                                        <text x="80" y="30" font-family="monospace" font-weight="bold" fill="#333">-</text>
                                    </g>
                                </g>

                                <!-- Glass Rod -->
                                <g id="glass-rod" transform="translate(160, 40)">
                                    <rect x="0" y="0" width="30" height="140" fill="#fff" stroke="#333" stroke-width="1.5" transform="rotate(-15, 15, 70)" />
                                    <g id="rod-charges" opacity="0" class="transition-opacity duration-500">
                                        <text x="35" y="40" font-family="monospace" font-weight="bold" fill="#333">+</text>
                                        <text x="40" y="70" font-family="monospace" font-weight="bold" fill="#333">+</text>
                                        <text x="45" y="100" font-family="monospace" font-weight="bold" fill="#333">+</text>
                                    </g>
                                </g>
                            </svg>
                        </div>

                        <div class="flex justify-between items-center mt-4">
                            <div class="font-sans text-xs font-bold uppercase text-gray-500" id="rub-status">Trạng thái: Chưa cọ xát</div>
                            <div class="space-x-2">
                                <button id="btn-rub" class="btn-nyt">Cọ Xát</button>
                                <button id="btn-reset-rub" class="btn-outline">Reset</button>
                            </div>
                        </div>
                        <div class="caption">
                            <strong>Mô phỏng:</strong> Khi thanh thủy tinh cọ xát vào lụa, electron dịch chuyển từ thủy tinh sang lụa. Thủy tinh nhiễm điện dương (+).
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: DÒNG ĐIỆN -->
        <div id="content-topic2" class="tab-content hidden fade-enter">
            <div class="border-b border-black pb-2 mb-6">
                <span class="font-sans font-bold text-xs uppercase tracking-widest border border-black px-2 py-1">Trang 3</span>
                <span class="ml-2 font-headline font-bold text-xl italic">Mạch Điện & Nguyên Lý</span>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                <!-- Main Content -->
                <div class="lg:col-span-7">
                    <h2 class="font-headline text-3xl font-bold mb-4">Câu Chuyện Về Dòng Sông Điện</h2>
                    <div class="font-sans text-gray-800 leading-relaxed text-lg">
                        <p class="mb-4">
                            "Dòng điện giống như dòng nước chảy từ đỉnh núi cao xuống," Thầy Lâm chia sẻ trong buổi giảng sáng nay. "Nước chảy làm quay guồng nước, còn điện chạy làm sáng bóng đèn. Nguồn điện (pin) chính là cái máy bơm đưa nước trở lại đỉnh núi để dòng chảy liên tục."
                        </p>
                        <div class="bg-gray-100 border-t-4 border-black p-4 my-6">
                            <h4 class="font-sans font-bold uppercase text-sm mb-2">Quy Ước Quan Trọng</h4>
                            <div class="grid grid-cols-2 gap-4 text-sm font-sans">
                                <div>
                                    <span class="block font-bold">Chiều Dòng Điện (I)</span>
                                    <span class="text-gray-600">Từ cực Dương (+) <i class="fas fa-arrow-right text-xs"></i> cực Âm (-)</span>
                                </div>
                                <div>
                                    <span class="block font-bold">Chiều Electron (e-)</span>
                                    <span class="text-gray-600">Từ cực Âm (-) <i class="fas fa-arrow-right text-xs"></i> cực Dương (+)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Simulation Column -->
                <div class="lg:col-span-5">
                    <div class="graphic-container shadow-paper">
                        <div class="graphic-header">
                            <span>Circuit Diagram</span>
                            <span>Interactive</span>
                        </div>
                        
                        <!-- UPDATED SVG FOR TOPIC 2 -->
                        <div class="relative bg-white flex flex-col items-center justify-center py-4">
                            <svg width="100%" height="240" viewBox="0 0 340 240" class="overflow-visible">
                                <defs>
                                    <marker id="arrow-ink" markerWidth="6" markerHeight="6" refX="3" refY="3" orient="auto">
                                        <path d="M0,0 L6,3 L0,6 z" fill="#333" />
                                    </marker>
                                </defs>

                                <!-- Main Wire Loop (Top and Sides) -->
                                <path d="M50 170 L50 50 L290 50 L290 170" stroke="#333" stroke-width="2" fill="none"/>
                                
                                <!-- Bottom Wire Fix: Connect sides to Battery -->
                                <!-- Wire from Left (50) to Battery Negative (~145) -->
                                <line x1="50" y1="170" x2="145" y2="170" stroke="#333" stroke-width="2"/>
                                <!-- Wire from Battery Positive (~165) to Right (290) -->
                                <line x1="165" y1="170" x2="290" y2="170" stroke="#333" stroke-width="2"/>

                                <!-- Battery Symbol -->
                                <g transform="translate(145, 155)">
                                    <line x1="0" y1="-10" x2="0" y2="20" stroke="#333" stroke-width="2" /> <!-- Short line (-) -->
                                    <line x1="20" y1="-20" x2="20" y2="30" stroke="#333" stroke-width="2" /> <!-- Long line (+) -->
                                    <text x="-15" y="10" font-family="sans-serif" font-size="12" font-weight="bold">-</text>
                                    <text x="35" y="10" font-family="sans-serif" font-size="12" font-weight="bold">+</text>
                                </g>

                                <!-- Bulb Symbol -->
                                <g id="bulb" transform="translate(170, 50)">
                                    <circle cx="0" cy="0" r="15" stroke="#333" stroke-width="2" fill="white" />
                                    <path d="M-10 10 L-5 0 L5 0 L10 10" stroke="#333" fill="none" />
                                    <circle id="bulb-glow" cx="0" cy="0" r="25" fill="#ffd700" opacity="0" style="mix-blend-mode: multiply;" />
                                </g>

                                <!-- Switch -->
                                <g id="switch-group" transform="translate(290, 110)">
                                    <circle cx="0" cy="-15" r="3" fill="#333" />
                                    <circle cx="0" cy="15" r="3" fill="#333" />
                                    <line id="switch-arm" x1="0" y1="15" x2="-25" y2="-15" stroke="#333" stroke-width="2" style="transition: all 0.3s; transform-origin: 0 15px;" />
                                </g>

                                <!-- MAGNIFYING GLASS EFFECT -->
                                <g id="magnifying-glass" transform="translate(60, 80)">
                                    <!-- Lens -->
                                    <circle cx="0" cy="0" r="35" fill="white" stroke="#333" stroke-width="3" />
                                    <!-- Handle -->
                                    <line x1="25" y1="25" x2="45" y2="45" stroke="#333" stroke-width="5" stroke-linecap="round" />
                                    
                                    <!-- Zoomed In Content (Only visible when On) -->
                                    <g id="zoom-content" opacity="0" class="transition-opacity duration-500">
                                        <!-- Atomic Lattice (Protons) -->
                                        <circle cx="-15" cy="-15" r="4" fill="#ccc" /> <text x="-18" y="-12" font-size="6">+</text>
                                        <circle cx="15" cy="-15" r="4" fill="#ccc" /> <text x="12" y="-12" font-size="6">+</text>
                                        <circle cx="-15" cy="15" r="4" fill="#ccc" /> <text x="-18" y="18" font-size="6">+</text>
                                        <circle cx="15" cy="15" r="4" fill="#ccc" /> <text x="12" y="18" font-size="6">+</text>
                                        
                                        <!-- Moving Electrons -->
                                        <circle cx="0" cy="0" r="3" fill="#333">
                                            <animate attributeName="cy" values="25;-25" dur="1s" repeatCount="indefinite" />
                                        </circle>
                                        <text x="-30" y="45" font-size="8" font-weight="bold">Electron</text>
                                        <path d="M-5 42 L5 35" stroke="black" stroke-width="1" marker-end="url(#arrow-ink)" />
                                    </g>
                                    <text x="-25" y="-45" font-size="10" font-weight="bold" fill="#666">ZOOM</text>
                                </g>

                                <!-- Current (Solid Arrows) -->
                                <g id="current-arrows" opacity="0" class="transition-opacity duration-500">
                                    <path d="M220 50 L120 50" stroke="#333" stroke-width="1" marker-end="url(#arrow-ink)" />
                                    <path d="M290 140 L290 100" stroke="#333" stroke-width="1" marker-end="url(#arrow-ink)" />
                                    <text x="220" y="35" font-family="sans-serif" font-size="10">Dòng điện (I)</text>
                                </g>
                            </svg>
                        </div>
                        
                        <div class="mt-4 text-center">
                            <button id="btn-toggle-switch" class="btn-nyt w-full">Đóng Công Tắc</button>
                        </div>
                        <div class="caption mt-2">
                             <strong>Lưu ý:</strong> Hãy quan sát kính lúp để thấy Electron đi ngược chiều dòng điện.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 3: ĐO LƯỜNG -->
        <div id="content-topic3" class="tab-content hidden fade-enter">
             <div class="border-b border-black pb-2 mb-6">
                <span class="font-sans font-bold text-xs uppercase tracking-widest border border-black px-2 py-1">Trang 4</span>
                <span class="ml-2 font-headline font-bold text-xl italic">Công Cụ & Phương Pháp</span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="prose font-sans text-gray-800 text-lg">
                    <h2 class="font-headline text-2xl font-bold mb-4">Phân Biệt Ampe Kế và Volt Kế</h2>
                    <p>
                        Trong thực hành đo lường điện, việc nhầm lẫn giữa hai thiết bị này có thể dẫn đến sai số lớn hoặc hỏng hóc thiết bị.
                    </p>
                    
                    <div class="grid grid-cols-2 gap-0 border border-black mt-6">
                        <div class="p-4 border-r border-black">
                            <h4 class="font-sans font-bold uppercase text-sm mb-2">Ampe Kế (A)</h4>
                            <ul class="text-sm list-none space-y-2">
                                <li><strong>Chức năng:</strong> Đo cường độ dòng điện.</li>
                                <li><strong>Cách mắc:</strong> Nối tiếp với thiết bị.</li>
                                <li><strong>Ví dụ:</strong> Người gác cổng đếm số người đi qua.</li>
                            </ul>
                        </div>
                        <div class="p-4 bg-gray-50">
                            <h4 class="font-sans font-bold uppercase text-sm mb-2">Volt Kế (V)</h4>
                            <ul class="text-sm list-none space-y-2">
                                <li><strong>Chức năng:</strong> Đo hiệu điện thế.</li>
                                <li><strong>Cách mắc:</strong> Song song với thiết bị.</li>
                                <li><strong>Ví dụ:</strong> Thước đo độ cao của thác nước.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="graphic-container shadow-paper">
                    <div class="graphic-header">
                        <span>Meter Calibration</span>
                        <span>Lab Set</span>
                    </div>
                    <!-- UPDATED SVG FOR TOPIC 3 -->
                    <div class="relative bg-white flex flex-col items-center justify-center py-4">
                        <svg width="100%" height="280" viewBox="0 0 340 280" class="overflow-visible">
                            <!-- Circuit Wires -->
                            <!-- Connect Left and Right Loops -->
                            <path d="M60 220 L60 50 L280 50 L280 220" stroke="#333" stroke-width="2" fill="none" />
                            
                            <!-- Bottom Wire Fix: Connect to Battery -->
                            <line x1="60" y1="220" x2="160" y2="220" stroke="#333" stroke-width="2" /> <!-- Left to Bat (-) -->
                            <line x1="180" y1="220" x2="280" y2="220" stroke="#333" stroke-width="2" /> <!-- Bat (+) to Right -->

                            <path d="M190 50 L190 100" stroke="#333" stroke-width="1" /> <!-- Wire to Volt -->
                            <path d="M250 50 L250 100" stroke="#333" stroke-width="1" /> <!-- Wire to Volt -->

                            <!-- Battery -->
                            <g transform="translate(170, 220)">
                                <line x1="-15" y1="0" x2="15" y2="0" stroke="white" stroke-width="8" /> <!-- Mask -->
                                <line x1="-10" y1="-5" x2="-10" y2="5" stroke="#333" stroke-width="2" />
                                <line x1="10" y1="-10" x2="10" y2="10" stroke="#333" stroke-width="2" />
                            </g>

                            <!-- Bulb -->
                            <g transform="translate(220, 50)">
                                <circle cx="0" cy="0" r="15" fill="white" stroke="#333" />
                                <circle id="meter-bulb-glow" cx="0" cy="0" r="25" fill="#ffd700" opacity="0" style="mix-blend-mode: multiply;" />
                            </g>

                            <!-- Analog Ammeter (Rectangular) -->
                            <g transform="translate(60, 130)">
                                <!-- Case -->
                                <rect x="-40" y="-30" width="80" height="60" rx="2" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                                <!-- Window -->
                                <path d="M-30 15 Q0 -15 30 15" fill="none" stroke="#666" stroke-width="1"/>
                                <!-- Ticks -->
                                <line x1="-25" y1="12" x2="-22" y2="8" stroke="#333" />
                                <line x1="0" y1="0" x2="0" y2="-5" stroke="#333" />
                                <line x1="25" y1="12" x2="22" y2="8" stroke="#333" />
                                <!-- Needle -->
                                <line id="needle-a" x1="0" y1="20" x2="-25" y2="8" stroke="#cc0000" stroke-width="2" transform="rotate(0, 0, 20)" style="transition: transform 0.5s ease-out;" />
                                <!-- Label -->
                                <text x="0" y="25" text-anchor="middle" font-weight="bold" font-size="10">AMPE KẾ</text>
                            </g>

                            <!-- Analog Voltmeter (Rectangular) -->
                            <g transform="translate(220, 130)">
                                <!-- Case -->
                                <rect x="-40" y="-30" width="80" height="60" rx="2" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                                <!-- Window -->
                                <path d="M-30 15 Q0 -15 30 15" fill="none" stroke="#666" stroke-width="1"/>
                                <!-- Ticks -->
                                <line x1="-25" y1="12" x2="-22" y2="8" stroke="#333" />
                                <line x1="0" y1="0" x2="0" y2="-5" stroke="#333" />
                                <line x1="25" y1="12" x2="22" y2="8" stroke="#333" />
                                <!-- Needle -->
                                <line id="needle-v" x1="0" y1="20" x2="-25" y2="8" stroke="#cc0000" stroke-width="2" transform="rotate(0, 0, 20)" style="transition: transform 0.5s ease-out;" />
                                <!-- Label -->
                                <text x="0" y="25" text-anchor="middle" font-weight="bold" font-size="10">VOLT KẾ</text>
                            </g>
                        </svg>

                        <div class="w-full px-8 mt-4">
                            <div class="flex justify-between font-sans text-xs uppercase font-bold mb-2">
                                <span>Nguồn điện (Input)</span>
                                <span>Mức độ: <span id="voltage-label">0</span></span>
                            </div>
                            <input type="range" id="voltage-slider" min="0" max="3" step="1" value="0" class="w-full h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer">
                        </div>
                        <div class="caption mt-2">
                             <strong>Lưu ý:</strong> Ampe kế mắc nối tiếp, Volt kế mắc song song với bóng đèn.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: KIỂM TRA -->
        <div id="content-quiz" class="tab-content hidden h-full fade-enter">
            <div class="max-w-3xl mx-auto">
                <div class="text-center mb-8">
                    <h2 class="font-headline text-4xl font-bold mb-2">Bài Kiểm Tra Kiến Thức</h2>
                    <div class="h-1 w-20 bg-black mx-auto"></div>
                </div>
                
                <div class="border border-black p-1 bg-white shadow-paper">
                    <div class="border border-gray-200 p-1">
                        <div class="w-full h-[800px] bg-gray-50 relative">
                             <iframe src="test.html" title="Bài kiểm tra Vật Lý 8" class="w-full h-full border-none">
                                 <p class="p-8 text-center font-sans">Trình duyệt không hỗ trợ Iframe.</p>
                             </iframe>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-6">
                    <p class="font-sans italic text-gray-600 text-sm">"Kiến thức không có sự kiểm chứng giống như con tàu không có la bàn."</p>
                </div>
            </div>
        </div>

    </main>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- 1. NAVIGATION & UI LOGIC ---
        const tabs = ['intro', 'topic1', 'topic2', 'topic3', 'quiz'];
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileOverlay = document.getElementById('mobile-overlay');
        const hamburgerBtn = document.getElementById('hamburger-button');
        const closeMenuBtn = document.getElementById('close-menu-button');

        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => {
                el.classList.add('hidden');
            });
            
            const selectedContent = document.getElementById(`content-${tabId}`);
            selectedContent.classList.remove('hidden');
            selectedContent.classList.remove('fade-enter');
            void selectedContent.offsetWidth; 
            selectedContent.classList.add('fade-enter');

            tabs.forEach(t => {
                // Desktop
                const dBtn = document.getElementById(`tab-btn-desktop-${t}`);
                if(dBtn) {
                    dBtn.classList.remove('active-tab');
                }
                // Mobile
                const mBtn = document.getElementById(`tab-btn-mobile-${t}`);
                if(mBtn) {
                    mBtn.classList.remove('active-mobile-tab');
                }
            });

            // Activate Desktop
            const activeDesktop = document.getElementById(`tab-btn-desktop-${tabId}`);
            if(activeDesktop) {
                activeDesktop.classList.add('active-tab');
            }

            // Activate Mobile
            const activeMobile = document.getElementById(`tab-btn-mobile-${tabId}`);
            if(activeMobile) {
                activeMobile.classList.add('active-mobile-tab');
            }

            closeMobileMenu();

            if (window.MathJax && typeof MathJax.typesetPromise === 'function') {
                MathJax.typesetPromise();
            }
        }

        function openMobileMenu() {
            mobileMenu.classList.remove('-translate-x-full');
            mobileOverlay.classList.remove('hidden');
        }

        function closeMobileMenu() {
            mobileMenu.classList.add('-translate-x-full');
            mobileOverlay.classList.add('hidden');
        }

        hamburgerBtn.addEventListener('click', openMobileMenu);
        closeMenuBtn.addEventListener('click', closeMobileMenu);

        // Initial Load
        switchTab('intro');

        // --- 2. SIMULATION LOGIC ---

        // SIM 1: Friction
        const btnRub = document.getElementById('btn-rub');
        const btnResetRub = document.getElementById('btn-reset-rub');
        const glassRod = document.getElementById('glass-rod');
        const rodCharges = document.getElementById('rod-charges');
        const silkCharges = document.getElementById('silk-charges');
        const rubStatus = document.getElementById('rub-status');

        if(btnRub) {
            btnRub.addEventListener('click', () => {
                rubStatus.innerText = "Trạng thái: Đang xử lý...";
                
                // Simple rotate animation using inline style or class
                let start = Date.now();
                let timer = setInterval(function() {
                    let timePassed = Date.now() - start;
                    if (timePassed >= 1000) {
                        clearInterval(timer);
                        glassRod.setAttribute('transform', 'translate(160, 40) rotate(-15, 15, 70)');
                        rodCharges.style.opacity = '1';
                        silkCharges.style.opacity = '1';
                        rubStatus.innerText = "Kết quả: Nhiễm điện dương (+)";
                        return;
                    }
                    // Wiggle effect
                    let rotation = -15 + Math.sin(timePassed / 50) * 10;
                    glassRod.setAttribute('transform', `translate(160, 40) rotate(${rotation}, 15, 70)`);
                }, 20);
            });

            btnResetRub.addEventListener('click', () => {
                rodCharges.style.opacity = '0';
                silkCharges.style.opacity = '0';
                rubStatus.innerText = "Trạng thái: Chưa cọ xát";
            });
        }

        // SIM 2: Circuit
        const btnSwitch = document.getElementById('btn-toggle-switch');
        const switchArm = document.getElementById('switch-arm');
        const zoomContent = document.getElementById('zoom-content');
        const currentArrows = document.getElementById('current-arrows');
        const bulbGlow = document.getElementById('bulb-glow');
        let isSwitchClosed = false;

        if(btnSwitch) {
            btnSwitch.addEventListener('click', () => {
                isSwitchClosed = !isSwitchClosed;
                
                if (isSwitchClosed) {
                    switchArm.setAttribute('x2', '-25');
                    switchArm.setAttribute('y2', '0'); 
                    switchArm.style.transform = "rotate(-25deg)"; 

                    btnSwitch.innerText = "Ngắt Công Tắc";
                    
                    zoomContent.style.opacity = '1';
                    currentArrows.style.opacity = '1';
                    bulbGlow.style.opacity = '0.5';
                } else {
                    switchArm.style.transform = "rotate(0deg)";
                    btnSwitch.innerText = "Đóng Công Tắc";
                    zoomContent.style.opacity = '0';
                    currentArrows.style.opacity = '0';
                    bulbGlow.style.opacity = '0';
                }
            });
        }

        // SIM 3: Meters
        const voltageSlider = document.getElementById('voltage-slider');
        const voltageLabel = document.getElementById('voltage-label');
        const needleA = document.getElementById('needle-a');
        const needleV = document.getElementById('needle-v');
        const meterBulbGlow = document.getElementById('meter-bulb-glow');

        if(voltageSlider) {
            voltageSlider.addEventListener('input', (e) => {
                const val = parseInt(e.target.value);
                voltageLabel.innerText = val;
                
                // Map 0-3 to rotation angles for Gauge Needles (0 to 90 degrees approx)
                const angle = val * 25; 
                if(needleA) needleA.style.transform = `rotate(${angle}deg)`;
                if(needleV) needleV.style.transform = `rotate(${angle}deg)`;
                if(meterBulbGlow) meterBulbGlow.style.opacity = val * 0.3; 
            });
        }
    </script>
</body>
</html>